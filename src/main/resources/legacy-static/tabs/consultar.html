<div class="row g-3">
  <div class="col-lg-4">
    <div class="card card-shadow">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="mb-0">Filtros</h6>
          <button
            class="btn btn-outline-secondary btn-sm"
            onclick="clearFilters()"
          >
            Limpar
          </button>
        </div>
        <div class="mb-2">
          <label class="form-label">Empresa</label>
          <input class="form-control" id="filterCompanyId" placeholder="UUID" />
        </div>
        <div class="mb-2">
          <label class="form-label">Status</label>
          <select class="form-select" id="filterStatus">
            <option value="">Todos</option>
            <option value="NEW">Novo</option>
            <option value="IN_PROGRESS">Em progresso</option>
            <option value="IN_REVIEW">Em revisão</option>
            <option value="CHANGES_REQUESTED">Mudanças solicitadas</option>
            <option value="APPROVED">Aprovado</option>
            <option value="DELIVERED">Entregue</option>
            <option value="CLOSED">Encerrado</option>
          </select>
        </div>
        <div class="mb-2">
          <label class="form-label">Prioridade</label>
          <select class="form-select" id="filterPriority">
            <option value="">Todas</option>
            <option value="LOW">Baixa</option>
            <option value="MEDIUM">Média</option>
            <option value="HIGH">Alta</option>
            <option value="URGENT">Urgente</option>
          </select>
        </div>
        <div class="mb-2">
          <label class="form-label">Tipo</label>
          <select class="form-select" id="filterType">
            <option value="">Todos</option>
            <option value="POST">Post</option>
            <option value="STORY">Story</option>
            <option value="BANNER">Banner</option>
            <option value="LANDING_PAGE">Landing page</option>
            <option value="TRAFFIC">Tráfego</option>
            <option value="EMAIL">E-mail</option>
            <option value="VIDEO">Vídeo</option>
            <option value="OTHER">Outro</option>
          </select>
        </div>
        <div class="mb-2">
          <label class="form-label">Criado de</label>
          <input
            type="datetime-local"
            class="form-control"
            id="filterCreatedFrom"
          />
        </div>
        <div class="mb-2">
          <label class="form-label">Criado até</label>
          <input
            type="datetime-local"
            class="form-control"
            id="filterCreatedTo"
          />
        </div>
        <div class="mb-2">
          <label class="form-label">Vencimento até</label>
          <input
            type="datetime-local"
            class="form-control"
            id="filterDueBefore"
          />
        </div>
        <div class="row g-2 mb-2">
          <div class="col">
            <label class="form-label">Página</label>
            <input
              type="number"
              class="form-control"
              id="filterPage"
              value="0"
              min="0"
            />
          </div>
          <div class="col">
            <label class="form-label">Tamanho</label>
            <input
              type="number"
              class="form-control"
              id="filterSize"
              value="20"
              min="1"
              max="100"
            />
          </div>
        </div>
        <div class="row g-2 mb-3">
          <div class="col">
            <label class="form-label">Ordenar por</label>
            <select class="form-select" id="filterSortBy">
              <option value="createdAt">Criado em</option>
              <option value="dueDate">Vencimento</option>
              <option value="title">Título</option>
              <option value="priority">Prioridade</option>
            </select>
          </div>
          <div class="col">
            <label class="form-label">Direção</label>
            <select class="form-select" id="filterDirection">
              <option value="desc">Desc</option>
              <option value="asc">Asc</option>
            </select>
          </div>
        </div>
        <button class="btn btn-primary w-100" onclick="advancedSearch()">
          Buscar
        </button>
      </div>
    </div>
  </div>

  <div class="col-lg-8">
    <div class="card card-shadow mb-3">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h5 class="mb-0">Requisições</h5>
          <div><span class="text-muted small" id="reqSummary"></span></div>
        </div>
        <div id="requestList" class="list-group list-scroll"></div>
      </div>
    </div>

    <div class="card card-shadow" id="detailCard" style="display: none">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-start mb-2">
          <div>
            <h5 id="detailTitle" class="mb-1"></h5>
            <div class="text-muted small" id="detailId"></div>
          </div>
          <div class="btn-group btn-group-sm">
            <button
              class="btn btn-outline-secondary"
              onclick="copySelectedId()"
            >
              Copiar ID
            </button>
            <button class="btn btn-outline-primary" onclick="openWorkflowTab()">
              Abrir no Workflow
            </button>
          </div>
        </div>
        <div class="mb-2" id="detailBadges"></div>
        <p class="text-secondary" id="detailDescription"></p>
        <div class="row g-2 mb-3">
          <div class="col-md-4">
            <small class="text-muted">Empresa</small>
            <div id="detailClient"></div>
          </div>
          <div class="col-md-4">
            <small class="text-muted">Vencimento</small>
            <div id="detailDue"></div>
          </div>
          <div class="col-md-4">
            <small class="text-muted">Revisões</small>
            <div id="detailRevision"></div>
          </div>
        </div>
        <div class="row g-2 mb-4">
          <div class="col-md-6">
            <small class="text-muted">Responsável</small>
            <div id="detailAssignee"></div>
          </div>
          <div class="col-md-6">
            <small class="text-muted">Criado/Atualizado</small>
            <div id="detailDates"></div>
          </div>
        </div>

        <div class="row g-3">
          <div class="col-lg-6">
            <h6>Alterar status</h6>
            <div class="mb-2">
              <label class="form-label">Novo status</label>
              <select class="form-select" id="wfStatus">
                <option value="">Selecione</option>
                <option value="NEW">Novo</option>
                <option value="IN_PROGRESS">Em progresso</option>
                <option value="IN_REVIEW">Em revisão</option>
                <option value="CHANGES_REQUESTED">Mudanças solicitadas</option>
                <option value="APPROVED">Aprovado</option>
                <option value="DELIVERED">Entregue</option>
                <option value="CLOSED">Encerrado</option>
              </select>
            </div>
            <div class="mb-2">
              <label class="form-label">Mensagem</label>
              <input
                class="form-control"
                id="wfStatusMsg"
                placeholder="Contexto"
              />
            </div>
            <button
              class="btn btn-primary w-100"
              onclick="changeStatusAction()"
            >
              Salvar
            </button>
          </div>
          <div class="col-lg-6">
            <h6>Comentário</h6>
            <div class="mb-2">
              <textarea
                class="form-control"
                id="wfComment"
                rows="3"
                placeholder="Mensagem"
              ></textarea>
            </div>
            <button
              class="btn btn-outline-primary w-100"
              onclick="addCommentAction()"
            >
              Adicionar comentário
            </button>
          </div>
          <div class="col-lg-6">
            <h6>Revisão</h6>
            <div class="mb-2">
              <textarea
                class="form-control"
                id="wfRevisionMsg"
                rows="2"
                placeholder="Detalhes"
              ></textarea>
            </div>
            <button
              class="btn btn-outline-secondary w-100"
              onclick="addRevisionAction()"
            >
              Registrar revisão
            </button>
          </div>
          <div class="col-lg-6">
            <h6>Atribuir</h6>
            <div class="mb-2">
              <input
                class="form-control"
                id="wfAssignee"
                placeholder="UUID do responsável"
              />
            </div>
            <button class="btn btn-outline-dark w-100" onclick="assignAction()">
              Atribuir
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
